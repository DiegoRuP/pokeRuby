<div class="w-full h-full bg-blue-800 bg-gradient-to-r from-blue-900 to-blue-700 flex flex-col relative rounded-lg shadow-lg border-black border-4 overflow-hidden">

  <div class="absolute inset-0 z-0">
    <div class="flex flex-col gap-2">
      <div *ngFor="let line of [1,2,3,4,5,6,7,8,9,10,11,12]" class="h-2" 
           [class]="line % 2 === 0 ? 'bg-blue-800 opacity-50' : 'bg-blue-700 opacity-50'"></div>
    </div>
  </div>

  <div class="bg-gray-100 rounded-full mx-4 mt-4 mb-6 py-1 px-4 text-center z-10 border-4 border-black">
    <h1 class="text-4xl md:text-6xl">ITEM BAG</h1>
  </div>

  <div class="flex flex-col md:flex-row flex-1 px-4 pb-4 gap-4 z-10 min-h-0">
    
    <div class="hidden md:block md:w-1/5 min-h-0 grid place-items-center">
      <div class="w-full text-center">
        <div class="text-white text-xl border-b-2 border-white text-shadow-2">CATEGORY</div>
        <div *ngFor="let category of categories" 
             (click)="filterByCategory(category.name)"
             class="text-white text-3xl text-shadow-2 min-h-0 py-2 cursor-pointer hover:bg-blue-600 rounded-lg"
             [class.bg-blue-600]="selectedCategory === category.name">
          {{ category.name | uppercase }}
        </div>
      </div>
    </div>

    <div class="flex-1 min-h-0 order-1 md:order-none">
      <div class="border-4 border-black rounded-lg bg-white h-64 md:h-full relative min-h-0">
        <div class="h-1/6 bg-gradient-to-b from-gray-300 to-white rounded-lg"></div>
        <div class="absolute inset-x-0 bottom-0 h-1/6 bg-gradient-to-t from-gray-300 to-white rounded-lg"></div>
        
        <div class="absolute inset-0 flex items-center justify-center min-h-0">
          <img [src]="selectedItem?.sprites?.default || '../../../assets/img/pokeball.png'" 
               [alt]="selectedItem?.name || 'Item'"
               class="h-48 object-contain">
        </div>
      </div>
    </div>

    <div class="md:hidden w-full flex flex-col min-h-0 order-2">
      <div class="w-full text-center">
        <div class="text-white text-xl border-b-2 border-white text-shadow-2">CATEGORY</div>
        <div *ngFor="let category of categories" 
             (click)="filterByCategory(category.name)"
             class="text-white text-l text-shadow-2 py-1 cursor-pointer hover:bg-blue-600 rounded-lg"
             [class.bg-blue-600]="selectedCategory === category.name">
          {{ category.name | uppercase }}
        </div>
      </div>
    </div>

    <div class="hidden md:block md:w-1/3 min-h-0">
      <div class="bg-yellow-400 border-4 border-gray-700 rounded-lg h-full p-2 relative flex flex-col min-h-0">
        <div class="flex-1 overflow-y-auto pr-2 min-h-0 mb-4">
          <div *ngFor="let item of filteredItems" 
               (click)="selectItem(item)"
               class="rounded-full mb-2 p-1 px-2 flex items-center cursor-pointer hover:bg-white"
               [class.bg-white]="selectedItem?.name === item.name">
            <div class="w-6 h-6 mr-2 flex-shrink-0">
              <img [src]="item.sprites?.default" [alt]="item.name" class="w-full h-full object-contain">
            </div>
            <span class="text-2xl truncate capitalize">
              {{ getFormattedItemName(item.name) }}
            </span>
          </div>
        </div>

        <div class="bg-white border-2 border-gray-800 rounded-lg p-3 h-1/3 min-h-[120px]">
          <h3 class="text-xl font-bold border-b-2 border-gray-400 mb-2 text-shadow-4">DESCRIPTION</h3>
          <p class="text-sm text-shadow-4 overflow-y-auto h-[calc(100%-28px)]">
            {{ getDescription(selectedItem) || 'Select an item to view its description' }}
          </p>
        </div>
      </div>
    </div>

    <div class="md:hidden w-full min-h-0 order-3 h-[30vh]">
      <div class="bg-yellow-400 border-4 border-gray-700 rounded-lg h-full p-2 relative flex flex-col min-h-0">
        <div class="flex-1 overflow-y-auto pr-2 min-h-0 mb-2">
          <div *ngFor="let item of filteredItems" 
               (click)="selectItem(item)"
               class="rounded-full mb-2 p-1 px-2 flex items-center cursor-pointer hover:bg-white"
               [class.bg-white]="selectedItem?.name === item.name">
            <div class="w-6 h-6 mr-2 flex-shrink-0">
              <img [src]="item.sprites?.default" [alt]="item.name" class="w-full h-full object-contain">
            </div>
            <span class="text-xl truncate capitalize">
              {{ getFormattedItemName(item.name) }}
            </span>
          </div>
        </div>

        <div class="bg-white border-2 border-gray-800 rounded-lg p-2 h-1/3 min-h-[100px]">
          <h3 class="text-lg font-bold border-b-2 border-gray-400 mb-1 text-shadow-4">DESCRIPTION</h3>
          <p class="text-xs text-shadow-4 overflow-y-auto h-[calc(100%-20px)]">
            {{ getDescription(selectedItem) || 'Select an item to view its description' }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>